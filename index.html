<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal Sarathi - AI Assistant</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f4f7f6; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 20px; }
        .lang-switcher { margin-bottom: 15px; display: flex; gap: 10px; }
        .lang-btn { background: #fff; border: 1px solid #3498db; padding: 6px 18px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: 0.3s; font-weight: bold; }
        .lang-btn.active { background: #3498db; color: white; }
        .container { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); width: 100%; max-width: 600px; text-align: center; }
        h1 { color: #2c3e50; margin-top: 0; }
        
        /* Interactive Beta Note */
        .beta-note { background: #e3f2fd; color: #0d47a1; padding: 15px; border-radius: 8px; font-size: 14px; margin-bottom: 20px; border-left: 5px solid #2196f3; text-align: left; }
        .vote-btn { margin-top: 10px; background: #2196f3; color: white; border: none; padding: 5px 12px; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 12px; }
        
        .upload-box { border: 2px dashed #3498db; padding: 20px; border-radius: 8px; margin: 15px 0; background: #f9fcff; }
        .divider { margin: 10px 0; color: #7f8c8d; font-weight: bold; }
        textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 14px; height: 120px; resize: vertical; }
        button#main-btn { background-color: #3498db; color: white; padding: 16px; border: none; border-radius: 6px; cursor: pointer; font-size: 18px; width: 100%; font-weight: bold; }
        #output { margin-top: 20px; padding: 15px; border-radius: 6px; display: none; text-align: left; background: #e8f4fd; color: #2c3e50; border-left: 5px solid #3498db; line-height: 1.6; }
        .footer { margin-top: 30px; font-size: 11px; color: #bdc3c7; }
    </style>
</head>
<body>

    <div class="lang-switcher">
        <button class="lang-btn active" onclick="changeLang('en', this)">English</button>
        <button class="lang-btn" onclick="changeLang('hi', this)">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
        <button class="lang-btn" onclick="changeLang('mr', this)">‡§Æ‡§∞‡§æ‡§†‡•Ä</button>
    </div>

    <div class="container">
        <h1 id="t-title">Legal Sarathi ‚öñÔ∏è</h1>
        
        <div class="beta-note">
            <span id="t-beta"><strong>Prototype Phase:</strong> We are testing demand. If successful, we will launch a full AI breakdown of every legal clause.</span>
            <br>
            <button class="vote-btn" id="t-vote" onclick="castVote()">üëç Vote for Full Version</button>
        </div>

        <p id="t-desc">Upload a file or paste text to simplify it.</p>

        <div class="upload-box">
            <label><strong id="t-step1">Option 1: Upload Document (.pdf, .docx)</strong></label><br>
            <input type="file" id="fileInput" accept=".pdf,.docx">
        </div>

        <div class="divider" id="t-or">‚Äî‚Äî OR ‚Äî‚Äî</div>

        <label><strong id="t-step2">Option 2: Paste Legal Text Below</strong></label>
        <textarea id="legalText" placeholder="Paste your complex legal points here..."></textarea>
        
        <button id="main-btn" onclick="simplifyLegal()">Simplify & Explain Now</button>
        
        <div id="output"></div>

        <div class="footer">
            ¬© 2026 Legal Sarathi | <span id="usage-count">Tracking Interest...</span>
        </div>
    </div>

    <script>
        const translations = {
            en: {
                title: "Legal Sarathi ‚öñÔ∏è",
                beta: "<strong>Prototype Phase:</strong> We are testing demand. If successful, we will launch a full AI breakdown of every legal clause.",
                vote: "üëç Vote for Full Version",
                voted: "Thanks! We've recorded your interest.",
                desc: "Upload a file or paste text to simplify it.",
                step1: "Option 1: Upload Document (.pdf, .docx)",
                or: "‚Äî‚Äî OR ‚Äî‚Äî",
                step2: "Option 2: Paste Legal Text Below",
                placeholder: "Paste your complex legal points here...",
                btn: "Simplify & Explain Now",
                analyzing: "AI is analyzing clauses...",
                summary: "Simplified Explanation (Prototype):"
            },
            hi: {
                title: "‡§≤‡•Ä‡§ó‡§≤ ‡§∏‡§æ‡§∞‡§•‡•Ä ‚öñÔ∏è",
                beta: "<strong>‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ü‡§æ‡§á‡§™ ‡§ö‡§∞‡§£:</strong> ‡§π‡§Æ ‡§Æ‡§æ‡§Ç‡§ó ‡§ï‡§æ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§∏‡§´‡§≤ ‡§π‡•ã‡§®‡•á ‡§™‡§∞, ‡§π‡§Æ ‡§π‡§∞ ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§ß‡§æ‡§∞‡§æ ‡§ï‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§è‡§Ü‡§à ‡§¨‡•ç‡§∞‡•á‡§ï‡§°‡§æ‡§â‡§® ‡§≤‡•â‡§®‡•ç‡§ö ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§",
                vote: "üëç ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•ã‡§ü ‡§ï‡§∞‡•á‡§Ç",
                voted: "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶! ‡§π‡§Æ‡§®‡•á ‡§Ü‡§™‡§ï‡•Ä ‡§∞‡•Å‡§ö‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞ ‡§≤‡•Ä ‡§π‡•à‡•§",
                desc: "‡§á‡§∏‡•á ‡§∏‡§∞‡§≤ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§",
                step1: "‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ 1: ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú‡§º ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç (.pdf, .docx)",
                or: "‚Äî‚Äî ‡§Ø‡§æ ‚Äî‚Äî",
                step2: "‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ 2: ‡§®‡•Ä‡§ö‡•á ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç",
                placeholder: "‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•á ‡§ï‡§†‡§ø‡§® ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§∂‡§¨‡•ç‡§¶ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç...",
                btn: "‡§Ö‡§≠‡•Ä ‡§∏‡§Æ‡§ù‡§æ‡§è‡§Ç",
                analyzing: "‡§è‡§Ü‡§à ‡§ß‡§æ‡§∞‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à...",
                summary: "‡§∏‡§∞‡§≤ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡•Ä‡§ï‡§∞‡§£ (‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ü‡§æ‡§á‡§™):"
            },
            mr: {
                title: "‡§≤‡•Ä‡§ó‡§≤ ‡§∏‡§æ‡§∞‡§•‡•Ä ‚öñÔ∏è",
                beta: "<strong>‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ü‡§æ‡§á‡§™ ‡§ü‡§™‡•ç‡§™‡§æ:</strong> ‡§Ü‡§Æ‡•ç‡§π‡•Ä ‡§Æ‡§æ‡§ó‡§£‡•Ä‡§ö‡•Ä ‡§ö‡§æ‡§ö‡§£‡•Ä ‡§ò‡•á‡§§ ‡§Ü‡§π‡•ã‡§§. ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä ‡§ù‡§æ‡§≤‡•ç‡§Ø‡§æ‡§∏, ‡§Ü‡§Æ‡•ç‡§π‡•Ä ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ï‡§æ‡§Ø‡§¶‡•á‡§∂‡•Ä‡§∞ ‡§ï‡§≤‡§Æ‡§æ‡§ö‡§æ ‡§∏‡§µ‡§ø‡§∏‡•ç‡§§‡§∞ ‡§è‡§Ü‡§Ø ‡§¨‡•ç‡§∞‡•á‡§ï‡§°‡§æ‡§â‡§® ‡§≤‡•â‡§®‡•ç‡§ö ‡§ï‡§∞‡•Ç.",
                vote: "üëç ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Ü‡§µ‡•É‡§§‡•ç‡§§‡•Ä‡§∏‡§æ‡§†‡•Ä ‡§µ‡•ç‡§π‡•ã‡§ü ‡§ï‡§∞‡§æ",
                voted: "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶! ‡§Ü‡§Æ‡•ç‡§π‡•Ä ‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§Ü‡§µ‡§° ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•Ä ‡§Ü‡§π‡•á.",
                desc: "‡§∏‡•ã‡§™‡•á ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§´‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§æ.",
                step1: "‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø ‡•ß: ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ (.pdf, .docx)",
                or: "‚Äî‚Äî ‡§ï‡§ø‡§Ç‡§µ‡§æ ‚Äî‚Äî",
                step2: "‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø ‡•®: ‡§ñ‡§æ‡§≤‡•Ä ‡§ï‡§æ‡§Ø‡§¶‡•á‡§∂‡•Ä‡§∞ ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§æ",
                placeholder: "‡§§‡•Å‡§Æ‡§ö‡§æ ‡§ï‡§æ‡§Ø‡§¶‡•á‡§∂‡•Ä‡§∞ ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§Ø‡•á‡§•‡•á ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§æ...",
                btn: "‡§Ü‡§§‡§æ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§ï‡§∞‡§æ",
                analyzing: "‡§è‡§Ü‡§Ø ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á...",
                summary: "‡§∏‡•ã‡§™‡•á ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡•Ä‡§ï‡§∞‡§£ (‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ü‡§æ‡§á‡§™):"
            }
        };

        let currentLang = 'en';

        function changeLang(lang, btn) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('t-title').innerText = translations[lang].title;
            document.getElementById('t-beta').innerHTML = translations[lang].beta;
            document.getElementById('t-vote').innerText = translations[lang].vote;
            document.getElementById('t-desc').innerText = translations[lang].desc;
            document.getElementById('t-step1').innerText = translations[lang].step1;
            document.getElementById('t-or').innerText = translations[lang].or;
            document.getElementById('t-step2').innerText = translations[lang].step2;
            document.getElementById('legalText').placeholder = translations[lang].placeholder;
            document.getElementById('main-btn').innerText = translations[lang].btn;
        }

        // VOTE FUNCTION (SIMULATED TRACKING)
        function castVote() {
            const btn = document.getElementById('t-vote');
            btn.innerText = translations[currentLang].voted;
            btn.style.background = "#4caf50";
            btn.disabled = true;
            // In a real app, this would hit a database. For now, it's a visual confirmation.
            console.log("User voted for Pro Version");
        }

        // FILE & SIMPLIFY LOGIC (PREVIOUSLY PROVIDED)
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        document.getElementById('fileInput').onchange = async function(e) {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            if (file.type === "application/pdf") {
                reader.onload = async function() {
                    const typedarray = new Uint8Array(this.result);
                    const pdf = await pdfjsLib.getDocument(typedarray).promise;
                    let fullText = "";
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const content = await page.getTextContent();
                        fullText += content.items.map(item => item.str).join(" ") + " ";
                    }
                    document.getElementById('legalText').value = fullText;
                };
                reader.readAsArrayBuffer(file);
            } else if (file.name.endsWith(".docx")) {
                reader.onload = function(event) {
                    mammoth.extractRawText({arrayBuffer: event.target.result}).then(r => {
                        document.getElementById('legalText').value = r.value;
                    });
                };
                reader.readAsArrayBuffer(file);
            }
        };

        function simplifyLegal() {
            const text = document.getElementById('legalText').value;
            const outputDiv = document.getElementById('output');
            if(!text) { alert("Please provide text!"); return; }
            outputDiv.style.display = "block";
            outputDiv.innerHTML = `<em>${translations[currentLang].analyzing}</em>`;
            setTimeout(() => {
                const results = {
                    en: "<strong>1. Purpose:</strong> Standard agreement.<br><strong>2. Rule:</strong> Finish by the deadline.<br><strong>3. Warning:</strong> Section 4 late fees apply.",
                    hi: "<strong>1. ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø:</strong> ‡§Æ‡§æ‡§®‡§ï ‡§∏‡§Æ‡§ù‡•å‡§§‡§æ‡•§<br><strong>2. ‡§®‡§ø‡§Ø‡§Æ:</strong> ‡§∏‡§Æ‡§Ø ‡§∏‡•Ä‡§Æ‡§æ ‡§§‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç‡•§<br><strong>3. ‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä:</strong> ‡§ß‡§æ‡§∞‡§æ 4 ‡§ï‡•á ‡§§‡§π‡§§ ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§∂‡•Å‡§≤‡•ç‡§ï ‡§≤‡§æ‡§ó‡•Ç‡•§",
                    mr: "<strong>‡•ß. ‡§â‡§¶‡•ç‡§¶‡•á‡§∂:</strong> ‡§Æ‡§æ‡§®‡§ï ‡§ï‡§∞‡§æ‡§∞.<br><strong>‡•®. ‡§®‡§ø‡§Ø‡§Æ:</strong> ‡§Æ‡•Å‡§¶‡§§‡•Ä‡§§ ‡§ï‡§æ‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡§∞‡§æ.<br><strong>‡•©. ‡§á‡§∂‡§æ‡§∞‡§æ:</strong> ‡§ï‡§≤‡§Æ ‡•™ ‡§®‡•Å‡§∏‡§æ‡§∞ ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§∂‡•Å‡§≤‡•ç‡§ï ‡§≤‡§æ‡§ó‡•Ç."
                };
                outputDiv.innerHTML = `<strong>${translations[currentLang].summary}</strong><br><br>${results[currentLang]}`;
            }, 1500);
        }
    </script>
</body>
</html>
